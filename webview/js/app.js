(()=>{"use strict";var e={473:(e,a,t)=>{var s=t(751),l=t(641),o=t(953);const n=1,r=2,u={__name:"App",setup(e){const a=acquireVsCodeApi(),t=(0,o.KR)(0),s=(0,o.KR)("empty"),u=(0,o.KR)([]);function c(e){switch(console.log("receiveMessage",e),e.command){case"select_schema":t.value=n,s.value=e.body;break;case"select_message":t.value=r,u.value=e.body;break}}return(0,l.sV)(window.addEventListener("message",(e=>c(e.data)))),a.postMessage({command:"ready"}),(e,c)=>{const i=(0,l.g2)("schema-selector"),p=(0,l.g2)("message-selector");return t.value==n?((0,l.uX)(),(0,l.Wv)(i,{key:0,onSelect:c[0]||(c[0]=e=>(0,o.R1)(a).postMessage({command:"schema",body:e})),status:s.value},null,8,["status"])):t.value==r?((0,l.uX)(),(0,l.Wv)(p,{key:1,onSelect:c[1]||(c[1]=e=>(0,o.R1)(a).postMessage({command:"message",body:e})),messages:u.value},null,8,["messages"])):(0,l.Q3)("",!0)}}},c=u,i=c,p=(0,l.Lk)("br",null,null,-1),v={key:0},m={key:1},d={__name:"SchemaSelector",props:{status:String},emits:["select"],setup(e,{emit:a}){const t=a;function s(e){const a=e.target.files[0];null!=a&&(console.log("select schema:",a.path),t("select",a.path))}return(a,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("input",{ref:"upload",type:"file",name:"upload",accept:".yaml, .yml",onChange:s},null,544),p,"empty"==e.status?((0,l.uX)(),(0,l.CE)("label",v,"Select schema file (yaml)")):(0,l.Q3)("",!0),"invalid"==e.status?((0,l.uX)(),(0,l.CE)("label",m,"Schema file is invalid, select a valid file instead")):(0,l.Q3)("",!0)],64))}},g=d,f=g;var b=t(33);const y=(0,l.Lk)("option",{disabled:"",value:""},"Select root message type",-1),h=(0,l.Lk)("option",{disabled:"",value:""},"Select container type",-1),k=(0,l.Lk)("option",{value:"none"},"none",-1),S=(0,l.Lk)("option",{value:"array"},"array",-1),w=(0,l.Lk)("option",{value:"map"},"map",-1),C=[h,k,S,w],L=["disabled"],O={__name:"MessageSelector",props:{messages:{type:Array}},emits:["select"],setup(e,{emit:a}){const t=a,n=(0,o.KR)(""),r=(0,o.KR)(""),u=(0,o.KR)(!1);function c(){""!==n.value&&""!==r.value&&(console.log("root message:",n.value),u.value=!0,t("select",{message:n.value,container:r.value}))}return(a,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e)},[y,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.messages,(e=>((0,l.uX)(),(0,l.CE)("option",null,(0,b.v_)(e),1)))),256))],512),[[s.u1,n.value]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e)},C,512),[[s.u1,r.value]]),(0,l.Lk)("button",{disabled:u.value,onClick:c},"Select",8,L)],64))}},_=O,E=_,K=(0,s.Ef)(i);K.component("SchemaSelector",f),K.component("MessageSelector",E),K.mount("#app")}},a={};function t(s){var l=a[s];if(void 0!==l)return l.exports;var o=a[s]={exports:{}};return e[s](o,o.exports,t),o.exports}t.m=e,(()=>{var e=[];t.O=(a,s,l,o)=>{if(!s){var n=1/0;for(i=0;i<e.length;i++){for(var[s,l,o]=e[i],r=!0,u=0;u<s.length;u++)(!1&o||n>=o)&&Object.keys(t.O).every((e=>t.O[e](s[u])))?s.splice(u--,1):(r=!1,o<n&&(n=o));if(r){e.splice(i--,1);var c=l();void 0!==c&&(a=c)}}return a}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[s,l,o]}})(),(()=>{t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{var e={524:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var l,o,[n,r,u]=s,c=0;if(n.some((a=>0!==e[a]))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(u)var i=u(t)}for(a&&a(s);c<n.length;c++)o=n[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(i)},s=self["webpackChunkdisorder_editor"]=self["webpackChunkdisorder_editor"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var s=t.O(void 0,[504],(()=>t(473)));s=t.O(s)})();
//# sourceMappingURL=app.js.map