(()=>{"use strict";var e={920:()=>{},705:(e,a,t)=>{var o=t(751),l=t(641),s=t(953),n=t(229);const r=(0,l.Lk)("br",null,null,-1),u={key:0},i={key:1},c={__name:"SchemaSelector",props:{status:String},emits:["select"],setup(e,{emit:a}){const t=a;function o(e){const a=e.target.files[0];null!=a&&(console.log("select schema:",a.path),t("select",a.path))}return(a,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("input",{ref:"upload",type:"file",name:"upload",accept:".yaml, .yml",onChange:o},null,544),r,"empty"==e.status?((0,l.uX)(),(0,l.CE)("label",u,"Select schema file (yaml)")):(0,l.Q3)("",!0),"invalid"==e.status?((0,l.uX)(),(0,l.CE)("label",i,"Schema file is invalid, select a valid file instead")):(0,l.Q3)("",!0)],64))}},d=c,p=d;var v=t(33);const m=(0,l.Lk)("option",{disabled:"",value:""},"Select root message type",-1),b=(0,l.Lk)("option",{disabled:"",value:""},"Select container type",-1),y=(0,l.Lk)("option",{value:"none"},"none",-1),g=(0,l.Lk)("option",{value:"array"},"array",-1),f=(0,l.Lk)("option",{value:"map"},"map",-1),h=[b,y,g,f],k=["disabled"],w={__name:"MessageSelector",props:{messages:{type:Array}},emits:["select"],setup(e,{emit:a}){const t=a,n=(0,s.KR)(""),r=(0,s.KR)(""),u=(0,s.KR)(!1);function i(){""!==n.value&&""!==r.value&&(u.value=!0,t("select",{message:n.value,container:r.value}))}return(a,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e)},[m,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.messages,(e=>((0,l.uX)(),(0,l.CE)("option",null,(0,v.v_)(e),1)))),256))],512),[[o.u1,n.value]]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e)},h,512),[[o.u1,r.value]]),(0,l.Lk)("button",{disabled:u.value,onClick:i},"Select",8,k)],64))}},_=w,O=_,C={__name:"Cell",props:{node:{type:n.b}},setup(e){const a=e;return(0,l.sV)((()=>{console.log("show datagrid in cell"),console.log(a.node)})),()=>{}}},L=C,S=L,K=1,E=2,R=3,X={__name:"App",setup(e){const a=acquireVsCodeApi(),t=(0,s.KR)(0),o=(0,s.KR)("empty"),r=(0,s.KR)([]),u=(0,s.KR)({});function i(e){switch(console.log("receiveMessage",e),e.command){case"select_schema":t.value=K,o.value=e.body;break;case"select_message":t.value=E,r.value=e.body;break;case"show_datagrid":t.value=R;const a=new n.b(e.body.name,e.body.type,e.body.value);console.log("show datagrid in app"),console.log(a),u.value=a;break}}return(0,l.sV)(window.addEventListener("message",(e=>i(e.data)))),a.postMessage({command:"ready"}),(e,n)=>t.value==K?((0,l.uX)(),(0,l.Wv)(p,{key:0,onSelect:n[0]||(n[0]=e=>(0,s.R1)(a).postMessage({command:"schema",body:e})),status:o.value},null,8,["status"])):t.value==E?((0,l.uX)(),(0,l.Wv)(O,{key:1,onSelect:n[1]||(n[1]=e=>(0,s.R1)(a).postMessage({command:"message",body:e})),messages:r.value},null,8,["messages"])):t.value==R?((0,l.uX)(),(0,l.Wv)(S,{key:2,node:u.value},null,8,["node"])):(0,l.Q3)("",!0)}},j=X,M=j,V=(0,o.Ef)(M);V.mount("#app")},229:(e,a,t)=>{t.d(a,{b:()=>o});class o{constructor(e,a,t){this.name=e,this.type=a,this.value=t}}}},a={};function t(o){var l=a[o];if(void 0!==l)return l.exports;var s=a[o]={exports:{}};return e[o](s,s.exports,t),s.exports}t.m=e,(()=>{var e=[];t.O=(a,o,l,s)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,l,s]=e[c],r=!0,u=0;u<o.length;u++)(!1&s||n>=s)&&Object.keys(t.O).every((e=>t.O[e](o[u])))?o.splice(u--,1):(r=!1,s<n&&(n=s));if(r){e.splice(c--,1);var i=l();void 0!==i&&(a=i)}}return a}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,l,s]}})(),(()=>{t.d=(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{var e={524:0};t.O.j=a=>0===e[a];var a=(a,o)=>{var l,s,[n,r,u]=o,i=0;if(n.some((a=>0!==e[a]))){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(u)var c=u(t)}for(a&&a(o);i<n.length;i++)s=n[i],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},o=self["webpackChunkdisorder_editor"]=self["webpackChunkdisorder_editor"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))})(),t.O(void 0,[504],(()=>t(705))),t.O(void 0,[504],(()=>t(229)));var o=t.O(void 0,[504],(()=>t(920)));o=t.O(o)})();
//# sourceMappingURL=app.js.map